<head>
  <title>Admin Dashboard | Network Status</title>
  <link rel="stylesheet" href="../../css/dashboard.css" />
  <link rel="stylesheet" href="./index.css" />
  <link rel="stylesheet" href="./styles.css" />
  <!--script src="networkStats.js" async></script-->
  <script src="peerStatus.js" async></script>
</head>
<body>
  <div id="header">
    <img id="logo" src="../../asset/images/grey_logo.svg" width="50px" />
    <p id="headerText">Network</p>
    <button class="btn logout">
      <a style="text-decoration: none;color: inherit;" href="/api/auth/logout"
        >Log out</a
      >
    </button>
  </div>
  <div id="midContainer">
    <div id="sidebar">
      <a style="text-decoration: none;color: inherit" href="/dashboard/network">
        <div class="sidebarContent highlightSelected">
          <img src="../../asset/images/network.png" width="30px"/>
          <p>Network</p>
        </div>
      </a>
      <a style="text-decoration: none;color: inherit" href="/dashboard/database">
        <div class="sidebarContent">
          <img src="../../asset/images/database.svg" width="30px"/>
          <p>Database</p>
        </div>
      </a>
    </div class="sidebarContent">

    <!------------------------------------------------------------------------------------------------------------------------------>
    <div id="contentContainer" class="contents">
      <section class="sectionContainer">
          <div class="headerButtContainer">
              <strong class="sectionHeader">Peer Status</strong>
              <button type="button" class="positiveButton">Turn on/off</button>
          </div>
          <table class="table">
              <thead>
                  <tr>
                      <th>ID</th>
                      <th>Name</th>
                      <th>IP address</th>
                      <th>Status</th>
                  </tr>
              </thead>
              <tbody class="tableContent" id="NetworkStatus">
                  <tr>
                      <td>1</td>
                      <td>Peer 1</td>
                      <td>127.0.0.1:5798</td>
                      <td class="activeStatus">Active</td>
                      <td><button type="button" class="utilButton">More details</button></td>
                  </tr>
                  <tr>
                      <td>2</td>
                      <td>Peer 2</td>
                      <td>127.0.0.1:5798</td>
                      <td class="activeStatus">Active</td>
                      <td><button type="button" class="utilButton">More details</button></td>
                  </tr>
              </tbody>
          </table>
      </section>
      
      <section class="sectionContainer">
          <div class="headerButtContainer">
              <strong class="sectionHeader">Organizations</strong>
              <button type="button" class="positiveButton">Turn on/off</button>
          </div>
          <table class="table">
              <thead>
                  <tr>
                      <th>ID</th>
                      <th>Name</th>
                      <th>Admin</th>
                  </tr>
              </thead>

              <tbody class="tableContent" id="OrgStatus">
                  <tr>
                      <td>1</td>
                      <td>Company 1</td>
                      <td>admin1</td>
                      <td><button type="button" class="negativeButton">Kick</button></td>
                      <td><button type="button" class="utilButton">More details</button></td>
                  </tr>
                  
                  <tr>
                      <td>2</td>
                      <td>Company 2</td>
                      <td>admin2</td>
                      <td><button type="button" class="negativeButton">Kick</button></td>
                      <td><button type="button" class="utilButton">More details</button></td>
                  </tr>
              </tbody>
          </table>
      </section>
      <!------------------------------------------------------------------------------------------------------------------------------>
      
    </div>
  </div>
  <script>
    fetch("http://localhost:8080/api/auth/").then(res => {
      if(res.status != 200) {
        window.location.href = "http://localhost:8080/login.html";
      }
    })
  </script>
</body>
